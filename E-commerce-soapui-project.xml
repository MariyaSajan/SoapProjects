<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="ef66cb28-1366-4c87-9014-0e121602e49f" activeEnvironment="Default" name="E-commerce" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="6da56eae-a0c0-4650-8a49-4f2a88a89cf5" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Signup" path="/user/signup" id="993f921a-1f47-4516-a567-0130ea3245cf"><con:settings/><con:parameters/><con:method name="SignUp" id="ddba1d70-0701-4222-815b-f2f2baccd272" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>201</con:status><con:params/><con:element xmlns:sig="https://ecommerceservice.herokuapp.com/user/signup">sig:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:sig="https://ecommerceservice.herokuapp.com/user/signup">sig:Fault</con:element></con:representation><con:request name="Registration" id="d47bcd73-982e-44e2-ac85-008682531fe7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request> {
	"email": "mariam@gmail.com",
	"password": "krishna@123"
}
</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/signup</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="26281903-ae89-4777-af2e-b04674a302ed" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Login" path="/user/login" id="7b72d377-ec1d-4853-b475-98c87f1b83e9"><con:settings/><con:parameters/><con:method name="Login 1" id="087f4159-11fb-4423-ba9a-cc8bd984ab90" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:log="https://ecommerceservice.herokuapp.com/user/login">log:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:log="https://ecommerceservice.herokuapp.com/user/login">log:Fault</con:element></con:representation><con:request name="Login" id="06df0cfb-476e-4b3a-8666-2828a52e61bc" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "mariam@gmail.com",
	"password": "krishna@123"
}
</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="9b0522b0-9944-4496-a450-c353b392bac4" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="User" path="/user" id="d65f7f81-987b-45f6-bba1-9fe868a68700"><con:settings/><con:parameters/><con:method name="User 1" id="3969ac0b-044e-45a6-8b90-323685313afc" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:user="https://ecommerceservice.herokuapp.com/user">user:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:user="https://ecommerceservice.herokuapp.com/user">user:Fault</con:element></con:representation><con:request name="Get All User" id="98119622-3559-4185-9a07-2d6d725cbb27" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjI3NWRhZjFmY2NmZjAwMTdiM2M3MmQiLCJpYXQiOjE2NDY3NDcxMTIsImV4cCI6MTY0NjgzMzUxMn0.VXtTMhnKOqPGUpuKeZ723zEo-EOWTqrqYqAjxQBFFRM" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="ecac18e0-2114-4626-b840-f43b32f8fd79" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Id" path="/user/${#TestSuite#id}" id="a31729e4-28aa-4056-93f7-ef98dc37eda3"><con:settings/><con:parameters/><con:method name="Delete" id="4c1c5a3a-1773-4f69-ba7f-5d1cdfc63059" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:e4f="https://ecommerceservice.herokuapp.com/user/61e4fcad48290e001782c0c2">e4f:Response</con:element></con:representation><con:request name="Delete" id="86c76195-0145-4f10-b8c8-25c2d53926cd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjI3NWRhZjFmY2NmZjAwMTdiM2M3MmQiLCJpYXQiOjE2NDY3NDcxMTIsImV4cCI6MTY0NjgzMzUxMn0.VXtTMhnKOqPGUpuKeZ723zEo-EOWTqrqYqAjxQBFFRM" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user/61e4fcad48290e001782c0c2</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource></con:interface><con:testSuite id="d85ae8fa-0bfe-409e-bffc-af5d40b81c47" name="E-Commerce Functional"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="ba8c87ed-e1f8-4e51-bbe4-b1709ba171ae" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Script Based" searchProperties="true"><con:settings/><con:testStep type="properties" name="Properties" id="32b6fc0b-11f5-4aea-a20c-7e58d7dfe106"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>Email</con:name><con:value>sajan@gmail.com</con:value></con:property><con:property><con:name>Password</con:name><con:value>sajan123</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Registraion" id="dfe33362-0519-45e6-a165-4d1a7b34e618" disabled="true"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user/signup" methodName="SignUp" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Registraion" id="d47bcd73-982e-44e2-ac85-008682531fe7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "${Properties#Email}",
	"password": "${Properties#Password}"
}</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/signup</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="515844cc-d8cc-453d-ab89-133708068157" name="Valid HTTP Status Codes"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Login" id="e5c57461-3d43-4f54-a3ee-7411114408bf"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user/login" methodName="Login 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login" id="06df0cfb-476e-4b3a-8666-2828a52e61bc" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "${Properties#Email}",
	"password": "${Properties#Password}"
}</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/login</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="72298f4f-e91b-4b8e-9da2-bd70098d2ddc" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="decf3999-28cd-489c-8e37-c200d6d5f245" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("Login").getPropertyValue("Response")
def holder = new JsonSlurper().parseText(response)
def token = holder.accessToken
context.testCase.testSuite.setPropertyValue("Token","bearer "+token)</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get All User" id="4ab9a807-4df7-43f0-a1ac-53f3307522b4"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user" methodName="User 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get All User" id="98119622-3559-4185-9a07-2d6d725cbb27" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="23944423-f2ba-4bd2-9b6f-032b4bda8ffb" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="bacf2b83-0e3c-4cd4-908c-7867e17f0602" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("Get All User").getPropertyValue("response")
def holder = new JsonSlurper().parseText(response)
def count = holder.count.toInteger()
for(def i=0;i&lt;count;i++)
{
	if(holder.users[i].email=="abiah11@gmail.com")
	{
		def id = holder.users[i]._id
		log.info id
		def id1 = id.toString()
		context.testCase.testSuite.setPropertyValue("id",id1)
	}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c02b5a6c-bc18-4fa2-8e69-2b2b29e2e82a" name="Script Assertion 1"><con:configuration><scriptText>// We need to input the library to read json files
import groovy.json.JsonSlurper
//we need to store the response
def response = context.testCase.getTestStepByName("Get All User").getPropertyValue("Response")
//Stripping the response into a json script
def holder = new JsonSlurper().parseText(response)
// getting only the count
// def count = holder.count
def id = holder.users[200]._id
context.testCase.testSuite.setPropertyValue("id", id)</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete" id="d81ee813-4489-4f84-b5f0-6fbf123eaf25"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user/${#TestSuite#id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete" id="86c76195-0145-4f10-b8c8-25c2d53926cd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user/61e4fcad48290e001782c0c2</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="565b9212-06d8-49e7-a951-30f1efe0e18b" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>Token</con:name><con:value>bearer null</con:value></con:property><con:property><con:name>id</con:name><con:value>622731fe625984001745c1d2</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>